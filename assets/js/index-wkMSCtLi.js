import{u as y}from"./useHandleData-BM_X5Yl9.js";import{I as B,u as L}from"./index-CucLQUAr.js";import{g as I,u as P,_ as V}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-D7e3SEyY.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-CFOP1A9l.js";import{T as N}from"./index-BiQwqP1T.js";import{S as q}from"./index-CrE3I5mI.js";import{d as k,i as u,R as f,T as E,U as H,r as M,o as j,c as O,b as s,u as o,a as w,w as i,a1 as W,e as n,j as z,a4 as G,ax as J,aS as K,a2 as Q,H as X,a3 as Y,P as _,ay as Z}from"./index-DpU1pFpG.js";import{k as ee,g as ae,c as te,d as le,r as se,e as h,B as re,h as oe,i as ie}from"./user-C_dOb0Xg.js";import"./Imgs-BV7c-qIX.js";import"./upload-av3TZ9ls.js";import"./sortable.esm-9-_WONQE.js";const ne={class:"main-box"},ce={class:"table-box"},ue={class:"card mb10 pt0 pb0"},de=k({name:"useSelectFilter"}),Te=k({...de,setup(pe){const l=u(),C=f([{type:"radio",label:"单选",width:80},{type:"index",label:"#",width:80},{prop:"username",label:"用户姓名",width:120},{prop:"gender",label:"性别",width:120,sortable:!0,enum:I},{prop:"idCard",label:"身份证号"},{prop:"email",label:"邮箱"},{prop:"address",label:"居住地址"},{prop:"status",label:"用户状态",width:120,sortable:!0,tag:!0,enum:P},{prop:"createTime",label:"创建时间",width:180,sortable:!0},{prop:"operation",label:"操作",width:330,fixed:"right"}]),b=f([{title:"用户状态(单)",key:"userStatus",options:[{label:"全部",value:""},{label:"在职",value:"1",icon:"User"},{label:"待培训",value:"2",icon:"Bell"},{label:"待上岗",value:"3",icon:"Clock"},{label:"已离职",value:"4",icon:"CircleClose"},{label:"已退休",value:"5",icon:"CircleCheck"}]},{title:"用户角色(多)",key:"userRole",multiple:!0,options:[]}]);E(()=>T());const T=async()=>{const{data:e}=await ee();b[1].options=e},d=u({userStatus:"2",userRole:["1","3"]}),x=e=>{_.success("请注意查看请求参数变化 🤔"),l.value.pageable.pageNum=1,d.value=e},p=f({departmentId:["11"]}),U=e=>{_.success("请注意查看请求参数变化 🤔"),l.value.pageable.pageNum=1,p.departmentId=e},R=()=>{var e,a,t,r;l.value.radio=(e=l.value)==null?void 0:e.tableData[3].id,(r=(a=l.value)==null?void 0:a.element)==null||r.setCurrentRow((t=l.value)==null?void 0:t.tableData[3])};H(()=>{var e;return(e=l.value)==null?void 0:e.radio},()=>{var e,a;return((e=l.value)==null?void 0:e.radio)&&_.success(`选中 id 为【${(a=l.value)==null?void 0:a.radio}】的数据`)});const $=async e=>{var a;await y(le,{id:[e.id]},`删除【${e.username}】用户`),(a=l.value)==null||a.getTableList()},F=async e=>{var a;await y(se,{id:e.id},`重置【${e.username}】用户密码`),(a=l.value)==null||a.getTableList()},D=async()=>{Z.confirm("确认导出用户数据?","温馨提示",{type:"warning"}).then(()=>{var e;return L(h,"用户列表",(e=l.value)==null?void 0:e.searchParam)})},v=u(null),S=()=>{var a,t;const e={title:"用户",tempApi:h,importApi:re,getTableList:(a=l.value)==null?void 0:a.getTableList};(t=v.value)==null||t.acceptParams(e)},g=u(null),m=(e,a={})=>{var r,c;const t={title:e,isView:e==="查看",row:{...a},api:e==="新增"?oe:e==="编辑"?ie:void 0,getTableList:(r=l.value)==null?void 0:r.getTableList};(c=g.value)==null||c.acceptParams(t)};return(e,a)=>{const t=M("el-button");return j(),O("div",ne,[s(N,{title:"部门列表(多选)",multiple:"",label:"name","request-api":o(ae),"default-value":p.departmentId,onChange:U},null,8,["request-api","default-value"]),w("div",ce,[w("div",ue,[s(q,{data:b,"default-values":d.value,onChange:x},null,8,["data","default-values"])]),s(A,{ref_key:"proTable",ref:l,"highlight-current-row":"",columns:C,"request-api":o(te),"init-param":Object.assign(p,d.value)},{tableHeader:i(()=>[s(t,{type:"primary",icon:o(W),onClick:a[0]||(a[0]=r=>m("新增"))},{default:i(()=>[n("新增用户")]),_:1},8,["icon"]),s(t,{type:"primary",icon:o(z),plain:"",onClick:S},{default:i(()=>[n("批量添加用户")]),_:1},8,["icon"]),s(t,{type:"primary",icon:o(G),plain:"",onClick:D},{default:i(()=>[n("导出用户数据")]),_:1},8,["icon"]),s(t,{type:"primary",icon:o(J),plain:"",onClick:R},{default:i(()=>[n("选中第四行")]),_:1},8,["icon"])]),operation:i(r=>[s(t,{type:"primary",link:"",icon:o(K),onClick:c=>m("查看",r.row)},{default:i(()=>[n("查看")]),_:2},1032,["icon","onClick"]),s(t,{type:"primary",link:"",icon:o(Q),onClick:c=>m("编辑",r.row)},{default:i(()=>[n("编辑")]),_:2},1032,["icon","onClick"]),s(t,{type:"primary",link:"",icon:o(X),onClick:c=>F(r.row)},{default:i(()=>[n("重置密码")]),_:2},1032,["icon","onClick"]),s(t,{type:"primary",link:"",icon:o(Y),onClick:c=>$(r.row)},{default:i(()=>[n("删除")]),_:2},1032,["icon","onClick"])]),_:1},8,["columns","request-api","init-param"]),s(V,{ref_key:"drawerRef",ref:g},null,512),s(B,{ref_key:"dialogRef",ref:v},null,512)])])}}});export{Te as default};
